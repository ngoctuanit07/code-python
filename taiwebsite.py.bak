import requests
from bs4 import BeautifulSoup
import os

def download_file(url, folder):
    # Tạo thư mục nếu nó không tồn tại
    if not os.path.exists(folder):
        os.makedirs(folder)
    # Lấy tên tệp từ URL
    filename = os.path.join(folder, url.split('/')[-1])
    # Gửi yêu cầu GET đến URL
    response = requests.get(url)
    # Lưu nội dung vào tệp trong thư mục cụ thể
    with open(filename, 'wb') as file:
        file.write(response.content)
    print(f'Downloaded {filename}')

def download_website_content(url):
    response = requests.get(url)
    soup = BeautifulSoup(response.text, 'html.parser')

    # Lấy tất cả các liên kết CSS
    for link in soup.find_all('link', {'rel': 'stylesheet'}):
        css_url = link.get('href')
        if css_url:
            download_file(css_url, 'css')

    # Lấy tất cả các script JS
    for script in soup.find_all('script'):
        js_url = script.get('src')
        if js_url:
            download_file(js_url, 'js')

    # Lấy tất cả các hình ảnh
    for img in soup.find_all('img'):
        img_url = img.get('src')
        if img_url:
            download_file(img_url, 'images')

    # Lấy tất cả các font
    # Cần tìm kiếm trong CSS để tìm font - ví dụ này không bao gồm phần này

if __name__ == '__main__':
    website_url = 'https://websmirno.site/medin/html/medlab-html/index.html'  # Thay thế bằng URL của trang web bạn muốn tải xuống
    download_website_content(website_url)
